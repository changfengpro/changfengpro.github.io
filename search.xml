<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2025/05/14/hello-world/"/>
      <url>/2025/05/14/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2><span id="quick-start">Quick Start</span><a href="#quick-start" class="header-anchor">#</a></h2><h3><span id="create-a-new-post">Create a new post</span><a href="#create-a-new-post" class="header-anchor">#</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3><span id="run-server">Run server</span><a href="#run-server" class="header-anchor">#</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3><span id="generate-static-files">Generate static files</span><a href="#generate-static-files" class="header-anchor">#</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3><span id="deploy-to-remote-sites">Deploy to remote sites</span><a href="#deploy-to-remote-sites" class="header-anchor">#</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>JLink刷固件</title>
      <link href="/2025/03/05/JLink%E5%88%B7%E5%9B%BA%E4%BB%B6/"/>
      <url>/2025/03/05/JLink%E5%88%B7%E5%9B%BA%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<blockquote id="poem-container" class="poem-container"><span class="poem-char" onmouseover="this.classList.add('active')">关</span><span class="poem-char" onmouseover="this.classList.add('active')">山</span><span class="poem-char" onmouseover="this.classList.add('active')">难</span><span class="poem-char" onmouseover="this.classList.add('active')">越</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">谁</span><span class="poem-char" onmouseover="this.classList.add('active')">悲</span><span class="poem-char" onmouseover="this.classList.add('active')">失</span><span class="poem-char" onmouseover="this.classList.add('active')">路</span><span class="poem-char" onmouseover="this.classList.add('active')">之</span><span class="poem-char" onmouseover="this.classList.add('active')">人</span><span class="poem-char" onmouseover="this.classList.add('active')">；</span><span class="poem-char" onmouseover="this.classList.add('active')"></span><span class="poem-char" onmouseover="this.classList.add('active')">萍</span><span class="poem-char" onmouseover="this.classList.add('active')">水</span><span class="poem-char" onmouseover="this.classList.add('active')">相</span><span class="poem-char" onmouseover="this.classList.add('active')">逢</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">尽</span><span class="poem-char" onmouseover="this.classList.add('active')">是</span><span class="poem-char" onmouseover="this.classList.add('active')">他</span><span class="poem-char" onmouseover="this.classList.add('active')">乡</span><span class="poem-char" onmouseover="this.classList.add('active')">之</span><span class="poem-char" onmouseover="this.classList.add('active')">客</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span></blockquote><footer style="text-align: right"><strong>王勃</strong><cite>《滕王阁序》</cite></footer><script src="/js/smoke.js"></script> <div class="toc"><!-- toc --><ul><li><a href="#jlink-shua-gu-jian-jiao-cheng">JLinK刷固件教程</a><ul><li><a href="#jlink-shua-gu-jian-ji-jie-jue-bao-cuo-ke-long-wen-ti">jlink刷固件及解决报错克隆问题</a><ul><li><a href="#2-ran-hou-da-kai-segger-j-link-v7-22b-wen-jian-jia-zhong-de-j-flash-lite-v7-22b">2.然后打开SEGGER . J-Link v7.22b文件夹中的J-Flash Lite v7.22b</a></li><li><a href="#3-di-yi-bu-dian-ji-hong-se-jian-tou-chu-de-san-ge-dian-xuan-ze-jlink-gu-jian-ob-stm32-v754-addr-0x8000000-change-date-to-to-30-02-02-licensed-cbt6-128k-use-hex">3.第一步点击红色箭头处的三个点，选择jlink固件&#x2F;OB-STM32_V754_Addr-0x8000000_Change date to  to 30-02-02(Licensed-CBT6-128K_USE).hex</a></li><li><a href="#4-shao-xie-wan-cheng-hou-da-kai-jlink-zhi-gu-jian-jiao-cheng-jie-jue-bao-cuo-dao-ban-ke-long-segger-j-link-v7-22b-j-link-comander-v7-22b">4.烧写完成后打开jlink制固件教程（解诀报错盗版克隆）\SEGGER - J-Link v7.22b\J-Link Comander v7.22b</a></li><li><a href="#5-zui-hou-jiu-shi-shu-ru-license">5.最后就是输入license</a></li></ul></li></ul></li><li><a href="#jlink-ti-qu-gu-jian-jiao-cheng">JLink提取固件教程</a></li><li><a href="#fu-lu">附录</a></li></ul><!-- tocstop --></div><h1><span id="jlink-shua-gu-jian-jiao-cheng">JLinK刷固件教程</span><a href="#jlink-shua-gu-jian-jiao-cheng" class="header-anchor">#</a></h1><p>解决市面上购买到的盗版jlink使用Ozone时的报错问题（采用重刷固件及添加License的方式）</p><ul><li><em><strong>需要准备一个能正常使用的jlink(提示盗版的也可以)</strong></em></li></ul><h2><span id="jlink-shua-gu-jian-ji-jie-jue-bao-cuo-ke-long-wen-ti">jlink刷固件及解决报错克隆问题</span><a href="#jlink-shua-gu-jian-ji-jie-jue-bao-cuo-ke-long-wen-ti" class="header-anchor">#</a></h2><p>1.首先将jlink与被刷入的jlink连接</p><p><img src="/images/JLink%E5%88%B7%E5%9B%BA%E4%BB%B6/jlink(1).jpg" alt="jlink"></p><p>3.3 -&gt; 3.3</p><p>GND -&gt; GND</p><p>SWCLK -&gt;C</p><p>SWDIO -&gt;D</p><h3><span id="2-ran-hou-da-kai-segger-j-link-v7-22b-wen-jian-jia-zhong-de-j-flash-lite-v7-22b">2.然后打开SEGGER . J-Link v7.22b文件夹中的J-Flash Lite v7.22b</span><a href="#2-ran-hou-da-kai-segger-j-link-v7-22b-wen-jian-jia-zhong-de-j-flash-lite-v7-22b" class="header-anchor">#</a></h3><p> <img src="/images/JLink%E5%88%B7%E5%9B%BA%E4%BB%B6/jlink(5).png" alt="jlink"></p><p>device是你的jlink中间的芯片的型号，我的是stm32f103。其他的与图片上一致即可，按OK进入烧写。</p><h3><span id="3-di-yi-bu-dian-ji-hong-se-jian-tou-chu-de-san-ge-dian-xuan-ze-jlink-gu-jian-x2f-ob-stm32-v754-addr-0x8000000-change-date-to-to-30-02-02-licensed-cbt6-128k-use-hex">3.第一步点击红色箭头处的三个点，选择jlink固件&#x2F;OB-STM32_V754_Addr-0x8000000_Change date to  to 30-02-02(Licensed-CBT6-128K_USE).hex</span><a href="#3-di-yi-bu-dian-ji-hong-se-jian-tou-chu-de-san-ge-dian-xuan-ze-jlink-gu-jian-x2f-ob-stm32-v754-addr-0x8000000-change-date-to-to-30-02-02-licensed-cbt6-128k-use-hex" class="header-anchor">#</a></h3><blockquote><p>0B-STN32 V754 Addr-ox000000 _Change date to to 30-02-02（Licensed-CBT6-128K_USE）.hex  支持的是128KB的MCU</p></blockquote><blockquote><p>&#x2F;jlink固件&#x2F;JLink_ARM_OB-64KB.hex 支持的是64KB的MCU</p></blockquote><p><strong>根据MCU选择固件</strong></p><p>第二步点击黄色箭头的erase Chip（擦除芯片的flash）</p><p>第三步点击黑色箭头的program device （烧写固件）</p><p><img src="/images/JLink%E5%88%B7%E5%9B%BA%E4%BB%B6/jlink(6).png" alt="jLink"></p><h3><span id="4-shao-xie-wan-cheng-hou-da-kai-jlink-zhi-gu-jian-jiao-cheng-jie-jue-bao-cuo-dao-ban-ke-long-segger-j-link-v7-22b-j-link-comander-v7-22b">4.烧写完成后打开jlink制固件教程（解诀报错盗版克隆）\SEGGER - J-Link v7.22b\J-Link Comander v7.22b</span><a href="#4-shao-xie-wan-cheng-hou-da-kai-jlink-zhi-gu-jian-jiao-cheng-jie-jue-bao-cuo-dao-ban-ke-long-segger-j-link-v7-22b-j-link-comander-v7-22b" class="header-anchor">#</a></h3><p><img src="/images/JLink%E5%88%B7%E5%9B%BA%E4%BB%B6/jlink%EF%BC%883%EF%BC%89.png" alt="jlink"></p><p>首次打开S&#x2F;N可能为-1，这时就需要修改S&#x2F;N.</p><p>打开jlink刷固件教程（解决报错盗版克隆）\JLink_v61zjJLink.exe</p><p>输入图中命令即可修改，建议S&#x2F;N为八位数       </p><p><img src="/images/JLink%E5%88%B7%E5%9B%BA%E4%BB%B6/jlink(4).png" alt="jlink"></p><h3><span id="5-zui-hou-jiu-shi-shu-ru-license">5.最后就是输入license</span><a href="#5-zui-hou-jiu-shi-shu-ru-license" class="header-anchor">#</a></h3><p><img src="/images/JLink%E5%88%B7%E5%9B%BA%E4%BB%B6/jlink(2).jpg" alt="jlink"></p><h1><span id="jlink-ti-qu-gu-jian-jiao-cheng">JLink提取固件教程</span><a href="#jlink-ti-qu-gu-jian-jiao-cheng" class="header-anchor">#</a></h1><p><em><strong>详细教程待完善</strong></em></p><blockquote><p>注意事项</p><ol><li>序列号不能为黑名单里面的那几个。此条不重要，因为没人去用那些特殊序列号</li><li>新型号不能内置GDBFull，有了直接报错。所有型号不能内置RDDI，有了直接报错</li><li>硬件版本v9~v11并且序列号开头为26,5,82的，和版本号v1并且序列号开头为80的，不许内置JFlash或RDI特性</li></ol></blockquote><p><img src="/images/JLink%E5%88%B7%E5%9B%BA%E4%BB%B6/jlink-cmd.png" alt="J-Link-OB-STM32F072-CortexM___firmware_2020(delet-RDDI).bin"></p><h1><span id="fu-lu">附录</span><a href="#fu-lu" class="header-anchor">#</a></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">exec setsn=20090928//设置下载器SN码，下载器制作好时默认-1，需手动更改且只能更改一次</span><br><span class="line">                            //SN码根据自己喜好设置</span><br><span class="line">                            //下面为下载器需要的许可证</span><br><span class="line">exec addfeature RDI//添加RDI</span><br><span class="line">exec addfeature FlashDL//添加FlashDL</span><br><span class="line">exec addfeature FlashBP  //添加FlashBP</span><br><span class="line">exec addfeature JFlash//添加JFlash</span><br><span class="line">exec addfeature GDBFull//添加GDB</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu下的STM32开发环境搭建(Vscode + CubeMX + Ozone)</title>
      <link href="/2025/02/26/Ubuntu%E4%B8%8B%E7%9A%84STM32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Vscode-CubeMX-Ozone/"/>
      <url>/2025/02/26/Ubuntu%E4%B8%8B%E7%9A%84STM32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Vscode-CubeMX-Ozone/</url>
      
        <content type="html"><![CDATA[<blockquote id="poem-container" class="poem-container"><span class="poem-char" onmouseover="this.classList.add('active')">其</span><span class="poem-char" onmouseover="this.classList.add('active')">形</span><span class="poem-char" onmouseover="this.classList.add('active')">也</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">翩</span><span class="poem-char" onmouseover="this.classList.add('active')">若</span><span class="poem-char" onmouseover="this.classList.add('active')">惊</span><span class="poem-char" onmouseover="this.classList.add('active')">鸿</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">婉</span><span class="poem-char" onmouseover="this.classList.add('active')">若</span><span class="poem-char" onmouseover="this.classList.add('active')">游</span><span class="poem-char" onmouseover="this.classList.add('active')">龙</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span><span class="poem-char" onmouseover="this.classList.add('active')"></span><span class="poem-char" onmouseover="this.classList.add('active')">荣</span><span class="poem-char" onmouseover="this.classList.add('active')">曜</span><span class="poem-char" onmouseover="this.classList.add('active')">秋</span><span class="poem-char" onmouseover="this.classList.add('active')">菊</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">华</span><span class="poem-char" onmouseover="this.classList.add('active')">茂</span><span class="poem-char" onmouseover="this.classList.add('active')">春</span><span class="poem-char" onmouseover="this.classList.add('active')">松</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span></blockquote><footer style="text-align: right"><strong>曹植</strong><cite>《洛神赋》</cite></footer><script src="/js/smoke.js"></script> <h1><span id="ubuntu-xi-tong-da-jian-vscode-cubemx-ozone-qian-ru-shi-kai-fa-huan-jing">Ubuntu系统搭建Vscode + CubeMx + Ozone嵌入式开发环境</span><a href="#ubuntu-xi-tong-da-jian-vscode-cubemx-ozone-qian-ru-shi-kai-fa-huan-jing" class="header-anchor">#</a></h1><hr><h2><span id="yi-huan-yuan">一、换源</span><a href="#yi-huan-yuan" class="header-anchor">#</a></h2><h3><span id="1-bei-fen-yuan-lie-biao">1. <strong>备份源列表</strong></span><a href="#1-bei-fen-yuan-lie-biao" class="header-anchor">#</a></h3><p>   <code>sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak</code></p><h3><span id="2-ming-ling-xing-da-kai-source-list-wen-jian">2. <strong>命令行打开source.list文件</strong></span><a href="#2-ming-ling-xing-da-kai-source-list-wen-jian" class="header-anchor">#</a></h3><p>   <code>sudo gedit /etc/apt/sources.list</code></p><h3><span id="3-xiu-gai-source-list-wen-jian-geng-huan-yuan">3. <strong>修改source.list文件，更换源</strong></span><a href="#3-xiu-gai-source-list-wen-jian-geng-huan-yuan" class="header-anchor">#</a></h3><blockquote><p>我个人更推荐使用中科大源</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#  中科大镜像源</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 清华镜像源</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#  阿里镜像源</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><h3><span id="4-geng-xin-yuan">4. 更新源</span><a href="#4-geng-xin-yuan" class="header-anchor">#</a></h3><p><code>sudo apt-get update</code></p><hr><h2><span id="er-pei-zhi-c-x2f-c-huan-jing">二、配置C&#x2F;C++环境</span><a href="#er-pei-zhi-c-x2f-c-huan-jing" class="header-anchor">#</a></h2><h3><span id="1-an-zhuang-gcc-he-g">1. 安装gcc和g++</span><a href="#1-an-zhuang-gcc-he-g" class="header-anchor">#</a></h3><p><code>sudo apt install gcc g++</code></p><h3><span id="2-yan-zheng-an-zhuang">2. 验证安装</span><a href="#2-yan-zheng-an-zhuang" class="header-anchor">#</a></h3><p><code>gcc -v</code></p><p>如果安装成功，会出现如下类似信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">rmer@rmer-Legion-Y7000P-IRH8:~$ gcc -v</span><br><span class="line">Using built-in specs.</span><br><span class="line">COLLECT_GCC=gcc</span><br><span class="line">COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/11/lto-wrapper</span><br><span class="line">OFFLOAD_TARGET_NAMES=nvptx-none:amdgcn-amdhsa</span><br><span class="line">OFFLOAD_TARGET_DEFAULT=1</span><br><span class="line">Target: x86_64-linux-gnu</span><br><span class="line">Configured with: ../src/configure -v --with-pkgversion=&#x27;Ubuntu 11.4.0-1ubuntu1~22.04&#x27; --with-bugurl=file:///usr/share/doc/gcc-11/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++,m2 --prefix=/usr --with-gcc-major-version-only --program-suffix=-11 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-bootstrap --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-plugin --enable-default-pie --with-system-zlib --enable-libphobos-checking=release --with-target-system-zlib=auto --enable-objc-gc=auto --enable-multiarch --disable-werror --enable-cet --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none=/build/gcc-11-XeT9lY/gcc-11-11.4.0/debian/tmp-nvptx/usr,amdgcn-amdhsa=/build/gcc-11-XeT9lY/gcc-11-11.4.0/debian/tmp-gcn/usr --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu --with-build-config=bootstrap-lto-lean --enable-link-serialization=2</span><br><span class="line">Thread model: posix</span><br><span class="line">Supported LTO compression algorithms: zlib zstd</span><br><span class="line">gcc version 11.4.0 (Ubuntu 11.4.0-1ubuntu1~22.04) </span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>g++ -v</code></p><p>g++安装成功后，输出信息类似</p><h2><span id="san-an-zhuang-arm-none-eabi-gcc-jiao-cha-bian-yi-gong-ju-lian">三、 安装arm-none-eabi-gcc交叉编译工具链</span><a href="#san-an-zhuang-arm-none-eabi-gcc-jiao-cha-bian-yi-gong-ju-lian" class="header-anchor">#</a></h2><h3><span id="1-guan-wang-xia-zai">1. 官网下载</span><a href="#1-guan-wang-xia-zai" class="header-anchor">#</a></h3><p><a href="https://developer.arm.com/downloads/-/arm-gnu-toolchain-downloads">https://developer.arm.com/downloads/-/arm-gnu-toolchain-downloads</a></p><p><img src="/images/Ubuntu%E4%B8%8B%E7%9A%84STM32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Vscode-CubeMX-Ozone/2025-02-26-00-01-51.png" alt="arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi.tar.xz"></p><p>下载 <strong>arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi.tar.xz</strong></p><h3><span id="2-jie-ya">2. 解压</span><a href="#2-jie-ya" class="header-anchor">#</a></h3><p>进入下载的目录，执行解压命令,这里我指定解压到了 <em><strong>&#x2F;usr&#x2F;loacl</strong></em> 目录。若想解压到其他目录，修改命令行末尾的解压路径即可</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rmer@rmer-Legion-Y7000P-IRH8:~/下载$</span><br><span class="line"></span><br><span class="line">sudo tar -xJvf arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi.tar.xz -C /usr/local</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3><span id="3-pei-zhi-huan-jing">3. 配置环境</span><a href="#3-pei-zhi-huan-jing" class="header-anchor">#</a></h3><p>修改&#x2F;etc&#x2F;profile文件, 在最后面添加export PATH&#x3D;$PATH:+上面的绝对路径，目的是将交叉编译器的命令添加到全局变量</p><p>输入：</p><p><code>sudo gedit /etc/profile</code></p><p>然后在文件末尾添加如下语句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi/bin</span><br></pre></td></tr></table></figure><p><img src="/images/Ubuntu%E4%B8%8B%E7%9A%84STM32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Vscode-CubeMX-Ozone/2025-02-25-23-46-08.png" alt="profile"></p><p>保存并退出之后，执行以下命令使环境变量生效</p><p><code>source /etc/profile</code></p><p>再输入</p><p><code>arm-none-eabi-gcc -v</code></p><p>验证是否安装成功</p><p><img src="/images/Ubuntu%E4%B8%8B%E7%9A%84STM32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Vscode-CubeMX-Ozone/2025-02-26-00-19-26.png" alt="arm-none-eabi-gcc -v"></p><p><strong>[注意]</strong> source之后只会在当前终端生效, 重启后才会一直生效</p><hr><h2><span id="fang-fa-er">方法二、</span><a href="#fang-fa-er" class="header-anchor">#</a></h2><p>似乎可以直接命令行下载</p><p><code>sudo apt install gcc-arm-none-eabi</code></p><hr><p><strong>至此本教程结束，关于JLINK、Ozone以及CubeMX如何下载，本文不过多赘述</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STM32时钟体系、SetSysClock、PLL、时钟源</title>
      <link href="/2025/01/11/STM32%E6%97%B6%E9%92%9F%E4%BD%93%E7%B3%BB%E3%80%81SetSysClock%E3%80%81PLL%E3%80%81%E6%97%B6%E9%92%9F%E6%BA%90/"/>
      <url>/2025/01/11/STM32%E6%97%B6%E9%92%9F%E4%BD%93%E7%B3%BB%E3%80%81SetSysClock%E3%80%81PLL%E3%80%81%E6%97%B6%E9%92%9F%E6%BA%90/</url>
      
        <content type="html"><![CDATA[<blockquote id="poem-container" class="poem-container"><span class="poem-char" onmouseover="this.classList.add('active')">东</span><span class="poem-char" onmouseover="this.classList.add('active')">风</span><span class="poem-char" onmouseover="this.classList.add('active')">夜</span><span class="poem-char" onmouseover="this.classList.add('active')">放</span><span class="poem-char" onmouseover="this.classList.add('active')">花</span><span class="poem-char" onmouseover="this.classList.add('active')">千</span><span class="poem-char" onmouseover="this.classList.add('active')">树</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">更</span><span class="poem-char" onmouseover="this.classList.add('active')">吹</span><span class="poem-char" onmouseover="this.classList.add('active')">落</span><span class="poem-char" onmouseover="this.classList.add('active')">、</span><span class="poem-char" onmouseover="this.classList.add('active')">星</span><span class="poem-char" onmouseover="this.classList.add('active')">如</span><span class="poem-char" onmouseover="this.classList.add('active')">雨</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span><span class="poem-char" onmouseover="this.classList.add('active')">宝</span><span class="poem-char" onmouseover="this.classList.add('active')">马</span><span class="poem-char" onmouseover="this.classList.add('active')">雕</span><span class="poem-char" onmouseover="this.classList.add('active')">车</span><span class="poem-char" onmouseover="this.classList.add('active')">香</span><span class="poem-char" onmouseover="this.classList.add('active')">满</span><span class="poem-char" onmouseover="this.classList.add('active')">路</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span><span class="poem-char" onmouseover="this.classList.add('active')"></span><span class="poem-char" onmouseover="this.classList.add('active')">凤</span><span class="poem-char" onmouseover="this.classList.add('active')">箫</span><span class="poem-char" onmouseover="this.classList.add('active')">声</span><span class="poem-char" onmouseover="this.classList.add('active')">动</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">玉</span><span class="poem-char" onmouseover="this.classList.add('active')">壶</span><span class="poem-char" onmouseover="this.classList.add('active')">光</span><span class="poem-char" onmouseover="this.classList.add('active')">转</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">一</span><span class="poem-char" onmouseover="this.classList.add('active')">夜</span><span class="poem-char" onmouseover="this.classList.add('active')">鱼</span><span class="poem-char" onmouseover="this.classList.add('active')">龙</span><span class="poem-char" onmouseover="this.classList.add('active')">舞</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span><span class="poem-char" onmouseover="this.classList.add('active')"></span><span class="poem-char" onmouseover="this.classList.add('active')">蛾</span><span class="poem-char" onmouseover="this.classList.add('active')">儿</span><span class="poem-char" onmouseover="this.classList.add('active')">雪</span><span class="poem-char" onmouseover="this.classList.add('active')">柳</span><span class="poem-char" onmouseover="this.classList.add('active')">黄</span><span class="poem-char" onmouseover="this.classList.add('active')">金</span><span class="poem-char" onmouseover="this.classList.add('active')">缕</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">笑</span><span class="poem-char" onmouseover="this.classList.add('active')">语</span><span class="poem-char" onmouseover="this.classList.add('active')">盈</span><span class="poem-char" onmouseover="this.classList.add('active')">盈</span><span class="poem-char" onmouseover="this.classList.add('active')">暗</span><span class="poem-char" onmouseover="this.classList.add('active')">香</span><span class="poem-char" onmouseover="this.classList.add('active')">去</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span><span class="poem-char" onmouseover="this.classList.add('active')"></span><span class="poem-char" onmouseover="this.classList.add('active')">众</span><span class="poem-char" onmouseover="this.classList.add('active')">里</span><span class="poem-char" onmouseover="this.classList.add('active')">寻</span><span class="poem-char" onmouseover="this.classList.add('active')">他</span><span class="poem-char" onmouseover="this.classList.add('active')">千</span><span class="poem-char" onmouseover="this.classList.add('active')">百</span><span class="poem-char" onmouseover="this.classList.add('active')">度</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">蓦</span><span class="poem-char" onmouseover="this.classList.add('active')">然</span><span class="poem-char" onmouseover="this.classList.add('active')">回</span><span class="poem-char" onmouseover="this.classList.add('active')">首</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">那</span><span class="poem-char" onmouseover="this.classList.add('active')">人</span><span class="poem-char" onmouseover="this.classList.add('active')">却</span><span class="poem-char" onmouseover="this.classList.add('active')">在</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">灯</span><span class="poem-char" onmouseover="this.classList.add('active')">火</span><span class="poem-char" onmouseover="this.classList.add('active')">阑</span><span class="poem-char" onmouseover="this.classList.add('active')">珊</span><span class="poem-char" onmouseover="this.classList.add('active')">处</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span></blockquote><footer style="text-align: right"><strong>辛弃疾</strong><cite>《青玉案》</cite></footer><script src="/js/smoke.js"></script> <p><em><strong>目录</strong></em></p><div class="toc"><!-- toc --><ul><li><a href="#yi-shi-zhong-ti-xi">一、时钟体系</a><ul><li><a href="#1-can-kao-shou-ce">1、参考手册</a></li><li><a href="#2-shi-zhong-yuan">2、时钟源</a></li><li><a href="#3-shi-zhong-shu">3、时钟树</a></li></ul></li></ul><!-- tocstop --></div><!-- * [一、时钟体系](#一时钟体系)     * [1、参考手册](#1参考手册)    * [2、时钟源](#2时钟源)    * [3、时钟树](#3时钟树)    * [4. 时钟详解](#4-时钟详解)        * [HSE时钟](#hse时钟)        * [锁相环时钟](#锁相环时钟)        * [系统时钟](#系统时钟)        * [HCLK时钟](#hclk时钟)        * [PCLK1时钟](#pclk1时钟)        * [PCLK2时钟](#pclk2时钟)        * [RTC时钟](#rtc时钟)        * [独立看门狗时钟：](#独立看门狗时钟)        * [I2S时钟：](#i2s时钟)        * [以太网PHY时钟：](#以太网phy时钟)        * [USB PHY时钟：](#usb-phy时钟)        * [MCO时钟输出](#mco时钟输出)    * [系统时钟配置函数SetSysClock()](#系统时钟配置函数setsysclock)    * [系统时钟配置流程](#系统时钟配置流程)* [二、PLL](#二pll)  * [2.1 概述](#21-概述)  * [2.2 基本组成](#22-基本组成)  * [2.3 类比说明](#23-类比说明)  * [2.3 相位差\[拓展\]](#23-相位差拓展)* [三、SystemInit系统初始化函数](#三systeminit系统初始化函数)  * [1.第一个执行的文件是汇编文件](#1第一个执行的文件是汇编文件)  * [2.初始化Flash接口，更新PLL系统频率](#2初始化flash接口更新pll系统频率)  * [3.调用SetSysClock函数设置PLL时钟，然后进行分频](#3调用setsysclock函数设置pll时钟然后进行分频)  * [4.阅读system\_stm32f4xx.c文件的头部注释](#4阅读system_stm32f4xxc文件的头部注释)* [**四、时钟源**](#四时钟源)* [参考文章](#参考文章) --><h1><span id="yi-shi-zhong-ti-xi">一、时钟体系</span><a href="#yi-shi-zhong-ti-xi" class="header-anchor">#</a></h1><p>为单片机提供一个时钟信号（非常稳定），该信号可以用于各种时钟域的同步，包括系统时钟、HCLK、PCLK1、PCLK2、I2S时钟、USB PHY时钟、以太网PHY时钟等。<br>STM32的<mark style="background-color:yellow;">时钟系统由外部晶振、PLL（锁相环）和内部 RC 振荡器组成</mark></p><p>其作用包括：</p><ul><li>为处理器提供准确的时钟信号，保证处理器、总线和外设的正确工作。</li><li><mark style="background-color:yellow;">通过 PLL 的倍频功能</mark>，产生多种频率的时钟信号，满足不同外设的时钟需求。</li><li>通过时钟系统提供的时钟分频器、预分频器等功能，进一步调整时钟频率，以适应不同的应用场景。</li></ul><p><em><strong>时钟系统在 STM32 的系统中扮演着关键的角色，它的稳定性和精度对整个系统的性能影响很大</strong></em></p><h2><span id="1-can-kao-shou-ce">1、参考手册</span><a href="#1-can-kao-shou-ce" class="header-anchor">#</a></h2><p><code style="color: red;">STM32F4xx 中文参考手册.pdf 第 106 页</code></p><h2><span id="2-shi-zhong-yuan">2、时钟源</span><a href="#2-shi-zhong-yuan" class="header-anchor">#</a></h2><p>STM32F407IG可以使用三种不同的时钟源来驱动*系统时钟 (SYSCLK)*，CPU 运行的最高频率为 168MHz。</p><ul><li><p><em><strong>HSI（High-Speed Internal）振荡器时钟</strong></em>：内部高速时钟源，适用于简单、低功耗的应用，但如果需要更高的时钟精度或更快的时钟频率，可以选择外部晶振或通过PLL来调整时钟频率。</p></li><li><p><em><strong>HSE（High-Speed External）振荡器时钟</strong></em>： 高速外部时钟源 16MHz-32.768MHz，用于高速、高精度的应用。</p></li><li><p><em><strong>主 PLL (PLL) 时钟</strong></em>：主PLL主要通过倍频技术将较低频率的输入时钟（如HSE或HSI）转化为更高频率的输出时钟。例如，PLL可以将一个16 MHz的HSE时钟信号通过配置倍频因子输出更高的频率（例如，32 MHz、48 MHz等），为系统提供所需的高精度、高频时钟。</p><ul><li><em><strong>32 kHZ 低速内部 RC（LSI RC）</strong></em>：LSI 是一个内部的低速 RC 振荡器，通常在 32 MHz 频率下工作。LSI 可以驱动独立看门狗（IWDG），确保系统在发生故障时可以被复位。此外，LSI 还可以提供给RTC（实时时钟）用于 停机 或者 待机模式下的自动唤醒。</li><li><em><strong>32.768 kHz 低速外部晶振（LSE 晶振）</strong></em>： LSE 是一个低频外部晶振，通常为 32.768 kHz。它主要用于驱动 RTC 时钟（RTCCLK），提供精确的时钟信号以支持系统的时间跟踪功能，尤其在长时间运行和电池供电应用中非常重要。</li></ul></li></ul><p><em>STM32 微控制器支持在不需要时关闭不必要的时钟源，以进一步降低功耗。这些次级时钟源（LSI 和 LSE）都可以根据应用的需求单独启用或禁用。例如：</em></p><ul><li><strong>禁用</strong> LSI 或 LSE：如果不需要低速时钟源，用户可以禁用它们，以节省功耗。</li><li><strong>启用</strong> LSI 或 LSE：如果系统进入待机模式或需要 RTC 时钟工作，用户可以启用相应的时钟源。</li></ul><h2><span id="3-shi-zhong-shu">3、时钟树</span><a href="#3-shi-zhong-shu" class="header-anchor">#</a></h2><p>STM32F407IG 时钟树如下图所示：</p><p><img src="/images/STM32%E6%97%B6%E9%92%9F%E4%BD%93%E7%B3%BB/%E6%97%B6%E9%92%9F%E6%A0%91.png" alt="时钟树"></p><hr><p>—————持续更新中—————</p>]]></content>
      
      
      <categories>
          
          <category> STM32 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RoboMaster</title>
      <link href="/2025/01/02/RoboMaster/"/>
      <url>/2025/01/02/RoboMaster/</url>
      
        <content type="html"><![CDATA[<blockquote id="poem-container" class="poem-container"><span class="poem-char" onmouseover="this.classList.add('active')">时</span><span class="poem-char" onmouseover="this.classList.add('active')">运</span><span class="poem-char" onmouseover="this.classList.add('active')">不</span><span class="poem-char" onmouseover="this.classList.add('active')">齐</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">命</span><span class="poem-char" onmouseover="this.classList.add('active')">运</span><span class="poem-char" onmouseover="this.classList.add('active')">多</span><span class="poem-char" onmouseover="this.classList.add('active')">舛</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span><span class="poem-char" onmouseover="this.classList.add('active')"></span><span class="poem-char" onmouseover="this.classList.add('active')">屈</span><span class="poem-char" onmouseover="this.classList.add('active')">贾</span><span class="poem-char" onmouseover="this.classList.add('active')">谊</span><span class="poem-char" onmouseover="this.classList.add('active')">于</span><span class="poem-char" onmouseover="this.classList.add('active')">长</span><span class="poem-char" onmouseover="this.classList.add('active')">沙</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">非</span><span class="poem-char" onmouseover="this.classList.add('active')">无</span><span class="poem-char" onmouseover="this.classList.add('active')">圣</span><span class="poem-char" onmouseover="this.classList.add('active')">主</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span><span class="poem-char" onmouseover="this.classList.add('active')"></span><span class="poem-char" onmouseover="this.classList.add('active')">所</span><span class="poem-char" onmouseover="this.classList.add('active')">赖</span><span class="poem-char" onmouseover="this.classList.add('active')">君</span><span class="poem-char" onmouseover="this.classList.add('active')">子</span><span class="poem-char" onmouseover="this.classList.add('active')">见</span><span class="poem-char" onmouseover="this.classList.add('active')">机</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">得</span><span class="poem-char" onmouseover="this.classList.add('active')">志</span><span class="poem-char" onmouseover="this.classList.add('active')">者</span><span class="poem-char" onmouseover="this.classList.add('active')">少</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span><span class="poem-char" onmouseover="this.classList.add('active')"></span><span class="poem-char" onmouseover="this.classList.add('active')">所</span><span class="poem-char" onmouseover="this.classList.add('active')">以</span><span class="poem-char" onmouseover="this.classList.add('active')">沧</span><span class="poem-char" onmouseover="this.classList.add('active')">海</span><span class="poem-char" onmouseover="this.classList.add('active')">横</span><span class="poem-char" onmouseover="this.classList.add('active')">流</span><span class="poem-char" onmouseover="this.classList.add('active')">，</span><span class="poem-char" onmouseover="this.classList.add('active')">方</span><span class="poem-char" onmouseover="this.classList.add('active')">显</span><span class="poem-char" onmouseover="this.classList.add('active')">英</span><span class="poem-char" onmouseover="this.classList.add('active')">雄</span><span class="poem-char" onmouseover="this.classList.add('active')">本</span><span class="poem-char" onmouseover="this.classList.add('active')">色</span><span class="poem-char" onmouseover="this.classList.add('active')">。</span></blockquote><footer style="text-align: right"><strong>王勃</strong><cite>《滕王阁序》</cite></footer><script src="/js/smoke.js"></script> <h2><span id="rmuc-zong-jue-sai-shen-zhen-chun-chong">RMUC总决赛  深圳-春茧</span><a href="#rmuc-zong-jue-sai-shen-zhen-chun-chong" class="header-anchor">#</a></h2><p><img src="/images/rm%E8%88%9E%E5%8F%B0.jpg"></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
